<div class="dual-viewer-container">
  <!-- Baseline Viewer Region (NFR-3.3, NFR-3.4) -->
  <section class="viewer-panel" role="region" aria-labelledby="baseline-viewer-label">
    <header class="viewer-header" id="baseline-viewer-label">
      <div class="viewer-title">
        <h2 class="viewer-heading">{{ leftTitle }}</h2>
        <span class="viewer-subtitle">Baseline detections</span>
      </div>
      <div class="viewer-meta" aria-label="Baseline detection count">
        {{ baselineDetections.length || 0 }} boxes
      </div>
    </header>
    <app-scene-viewer viewerId="baseline" [sharedPointGeometry]="sharedGeometry" [detections]="baselineDetections"
      [diffMode]="effectiveDiffMode" [diffClassification]="baselineDiffClassification" [paneLabel]="'Baseline'"
      [showFps]="showFps" />
  </section>

  <!-- AGILE3D Viewer Region (NFR-3.3, NFR-3.4) -->
  <section class="viewer-panel" role="region" aria-labelledby="agile3d-viewer-label">
    <header class="viewer-header" id="agile3d-viewer-label">
      <div class="viewer-title">
        <h2 class="viewer-heading">{{ rightTitle }}</h2>
        <span class="viewer-subtitle">AGILE3D detections</span>
      </div>
      <div class="viewer-meta" aria-label="AGILE3D detection count">
        {{ agile3dDetections.length || 0 }} boxes
      </div>
    </header>
    <app-scene-viewer viewerId="agile3d" [sharedPointGeometry]="sharedGeometry" [detections]="agile3dDetections"
      [diffMode]="effectiveDiffMode" [diffClassification]="agile3dDiffClassification" [paneLabel]="'AGILE3D'"
      [showFps]="showFps" />
    <div class="no-dets-overlay" *ngIf="!agile3dDetections || agile3dDetections.length === 0">
      No detections for {{ rightTitle }}
    </div>
  </section>
</div>